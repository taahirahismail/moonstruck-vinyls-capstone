{"ast":null,"code":"export default {\n  props: [\"user\"],\n  data() {\n    return {\n      editUser: {\n        ...this.user\n      },\n      editUserID: null,\n      user: {\n        firstName: \"\",\n        lastName: \"\",\n        emailAdd: \"\",\n        userPass: \"\",\n        userImg: \"\"\n      }\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n    currentUser() {\n      return this.$store.state.user;\n    },\n    mounted() {\n      return this.$store.dispatch(\"fetchUser\");\n    }\n  },\n  methods: {\n    openEditModal(userID) {\n      this.editUserID = userID;\n      this.editUser = {\n        ...this.$store.state.users.find(user => user.userID === userID)\n      };\n    },\n    updateUser(userID) {\n      this.$store.dispatch(\"updateUser\", {\n        userID: userID,\n        data: {\n          ...this.editUser\n        }\n      }).then(() => {\n        console.log(\"User updated!\");\n        setTimeout(() => {\n          window.location.reload();\n        }, 500);\n      }).catch(err => {\n        console.error(\"Error updating: \", err);\n      });\n    },\n    deleteUser(userID) {\n      if (confirm(\"Are you sure you want to delete this user?\")) {\n        this.$store.dispatch(\"deleteUser\", userID);\n        setTimeout(() => {\n          location.reload();\n        }, 500);\n      }\n    }\n  }\n};","map":{"version":3,"names":["props","data","editUser","user","editUserID","firstName","lastName","emailAdd","userPass","userImg","computed","$store","state","currentUser","mounted","dispatch","methods","openEditModal","userID","users","find","updateUser","then","console","log","setTimeout","window","location","reload","catch","err","error","deleteUser","confirm"],"sources":["C:\\Users\\Student\\Desktop\\Development\\Capstone\\moonstruck-vinyls-capstone\\frontend\\src\\views\\UserProfileView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1 class=\"text-center p-3 heading-text\">My Account</h1>\r\n\r\n    <div class=\"card mx-auto my-3 p-5 w-75 user-card\">\r\n      <div class=\"m-3 text-center\">\r\n        <img\r\n          :src=\"$store.state.user?.userImg\"\r\n          :alt=\"$store.state.user?.firstName\"\r\n          class=\"img-fluid mb-5\"\r\n          style=\"max-width: 60%; border-radius: 50%\"\r\n        />\r\n\r\n        <h2 class=\"gold-text\">\r\n          {{ $store.state.user?.firstName }} {{ $store.state.user?.lastName }}\r\n        </h2>\r\n        <cite>{{ $store.state.user?.userRole }}</cite>\r\n      </div>\r\n\r\n      <div>\r\n        <div class=\"card mb-5 p-3 info-card\">\r\n          <span><strong>User ID: </strong>{{ $store.state.user?.userID }}</span>\r\n          <br />\r\n          <br />\r\n          <span><strong>Email: </strong>{{ $store.state.user?.emailAdd }}</span>\r\n          <br />\r\n          <br />\r\n          <span\r\n            ><strong>Password: </strong>{{ $store.state.user?.userPass }}</span\r\n          >\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-between detail-btns\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn edit-users-btn\"\r\n            @click=\"openEditModal(user.userID)\"\r\n            data-bs-toggle=\"modal\"\r\n            :data-bs-target=\"'#edit-user-modal' + user.userID\"\r\n          >\r\n            Edit\r\n          </button>\r\n\r\n          <div\r\n            class=\"modal\"\r\n            :id=\"'edit-user-modal' + user.userID\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            <div class=\"modal-dialog\">\r\n              <div class=\"modal-content blue-bg\">\r\n                <div class=\"modal-header\">\r\n                  <h1 class=\"modal-title text-center heading-text\">\r\n                    Update User:\r\n                  </h1>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn-close\"\r\n                    data-bs-dismiss=\"modal\"\r\n                    aria-label=\"close\"\r\n                  ></button>\r\n                </div>\r\n\r\n                <div class=\"modal-body\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"form-label\">First Name :</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"editUser.firstName\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"form-label\">Last Name :</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"editUser.lastName\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"form-label\">Email :</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"editUser.emailAdd\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"form-label\">Password :</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"editUser.userPass\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"form-label\">Profile Image :</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      v-model=\"editUser.userImg\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"modal-footer\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn edit-user-btn\"\r\n                    @click=\"updateUser(user.userID)\"\r\n                  >\r\n                    Update\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <button type=\"submit\" class=\"btn logout-btn\">\r\n            <router-link to=\"/logout\" class=\"logout-text\">Log Out</router-link>\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            class=\"btn del-btn\"\r\n            @click=\"deleteUser(user.userID)\"\r\n          >\r\n            Delete Account\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"user\"],\r\n\r\n  data() {\r\n    return {\r\n      editUser: {\r\n        ...this.user,\r\n      },\r\n\r\n      editUserID: null,\r\n\r\n      user: {\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        emailAdd: \"\",\r\n        userPass: \"\",\r\n        userImg: \"\",\r\n      },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    user() {\r\n      return this.$store.state.user;\r\n    },\r\n\r\n    currentUser() {\r\n      return this.$store.state.user;\r\n    },\r\n\r\n    mounted() {\r\n      return this.$store.dispatch(\"fetchUser\");\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    openEditModal(userID) {\r\n      this.editUserID = userID;\r\n      this.editUser = {\r\n        ...this.$store.state.users.find((user) => user.userID === userID),\r\n      };\r\n    },\r\n\r\n    updateUser(userID) {\r\n      this.$store\r\n        .dispatch(\"updateUser\", {\r\n          userID: userID,\r\n          data: { ...this.editUser },\r\n        })\r\n        .then(() => {\r\n          console.log(\"User updated!\");\r\n          setTimeout(() => {\r\n            window.location.reload();\r\n          }, 500);\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"Error updating: \", err);\r\n        });\r\n    },\r\n\r\n    deleteUser(userID) {\r\n      if (confirm(\"Are you sure you want to delete this user?\")) {\r\n        this.$store.dispatch(\"deleteUser\", userID);\r\n        setTimeout(() => {\r\n          location.reload();\r\n        }, 500);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.heading-text {\r\n  font-family: \"Archivo Black\", sans-serif;\r\n}\r\n\r\n.gold-text {\r\n  color: #ffd700;\r\n  font-family: \"Montserrat Alternates\", sans-serif;\r\n}\r\n\r\n.user-card {\r\n  background: #0a192f;\r\n  border: 3px solid #f4f4f4;\r\n  color: #f4f4f4;\r\n}\r\n\r\n.info-card {\r\n  background: #010111;\r\n  border: 3px solid #f4f4f4;\r\n  color: #f4f4f4;\r\n}\r\n\r\n.logout-text {\r\n  text-decoration: none;\r\n  color: #0a192f;\r\n}\r\n\r\n.logout-text:hover {\r\n  color: #ffd700;\r\n}\r\n\r\n.del-btn,\r\n.edit-users-btn,\r\n.logout-btn {\r\n  color: #0a192f;\r\n  background: #ffd700;\r\n  border: 2px solid #ffd700;\r\n}\r\n\r\n.del-btn:hover,\r\n.edit-btn:hover,\r\n.logout-btn:hover {\r\n  background: #0a192f;\r\n  color: #ffd700;\r\n}\r\n\r\n@media screen and (max-width: 430px) {\r\n  .detail-btns {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .edit-btn,\r\n  .del-btn {\r\n    margin: 5px;\r\n  }\r\n\r\n  .info-card {\r\n    font-size: 15px;\r\n  }\r\n\r\n  .user-card {\r\n    margin: 10px !important;\r\n    padding: 10px !important;\r\n    width: 95% !important;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AA2IA,eAAe;EACbA,KAAK,EAAE,CAAC,MAAM,CAAC;EAEfC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;QACR,GAAG,IAAI,CAACC;MACV,CAAC;MAEDC,UAAU,EAAE,IAAI;MAEhBD,IAAI,EAAE;QACJE,SAAS,EAAE,EAAE;QACbC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,OAAO,EAAE;MACX;IACF,CAAC;EACH,CAAC;EAEDC,QAAQ,EAAE;IACRP,IAAIA,CAAA,EAAG;MACL,OAAO,IAAI,CAACQ,MAAM,CAACC,KAAK,CAACT,IAAI;IAC/B,CAAC;IAEDU,WAAWA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACF,MAAM,CAACC,KAAK,CAACT,IAAI;IAC/B,CAAC;IAEDW,OAAOA,CAAA,EAAG;MACR,OAAO,IAAI,CAACH,MAAM,CAACI,QAAQ,CAAC,WAAW,CAAC;IAC1C;EACF,CAAC;EAEDC,OAAO,EAAE;IACPC,aAAaA,CAACC,MAAM,EAAE;MACpB,IAAI,CAACd,UAAS,GAAIc,MAAM;MACxB,IAAI,CAAChB,QAAO,GAAI;QACd,GAAG,IAAI,CAACS,MAAM,CAACC,KAAK,CAACO,KAAK,CAACC,IAAI,CAAEjB,IAAI,IAAKA,IAAI,CAACe,MAAK,KAAMA,MAAM;MAClE,CAAC;IACH,CAAC;IAEDG,UAAUA,CAACH,MAAM,EAAE;MACjB,IAAI,CAACP,MAAK,CACPI,QAAQ,CAAC,YAAY,EAAE;QACtBG,MAAM,EAAEA,MAAM;QACdjB,IAAI,EAAE;UAAE,GAAG,IAAI,CAACC;QAAS;MAC3B,CAAC,EACAoB,IAAI,CAAC,MAAM;QACVC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;QAC5BC,UAAU,CAAC,MAAM;UACfC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;QAC1B,CAAC,EAAE,GAAG,CAAC;MACT,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACdP,OAAO,CAACQ,KAAK,CAAC,kBAAkB,EAAED,GAAG,CAAC;MACxC,CAAC,CAAC;IACN,CAAC;IAEDE,UAAUA,CAACd,MAAM,EAAE;MACjB,IAAIe,OAAO,CAAC,4CAA4C,CAAC,EAAE;QACzD,IAAI,CAACtB,MAAM,CAACI,QAAQ,CAAC,YAAY,EAAEG,MAAM,CAAC;QAC1CO,UAAU,CAAC,MAAM;UACfE,QAAQ,CAACC,MAAM,CAAC,CAAC;QACnB,CAAC,EAAE,GAAG,CAAC;MACT;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}