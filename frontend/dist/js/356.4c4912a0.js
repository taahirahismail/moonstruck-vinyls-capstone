"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[356],{3356:function(e,t,s){s.r(t),s.d(t,{default:function(){return Z}});var l=s(3396),a=s(7139),r=s(9242);const o=e=>((0,l.dD)("data-v-c21fb270"),e=e(),(0,l.Cn)(),e),d=o((()=>(0,l._)("h1",{class:"text-center p-3 heading-text"},"My Account",-1))),u={class:"card mx-auto my-3 p-5 w-75 user-card"},n={class:"m-3 text-center"},i=["src","alt"],c={class:"gold-text"},m={class:"card mb-5 p-3 info-card"},b=o((()=>(0,l._)("strong",null,"User ID: ",-1))),_=o((()=>(0,l._)("br",null,null,-1))),p=o((()=>(0,l._)("br",null,null,-1))),f=o((()=>(0,l._)("strong",null,"Email: ",-1))),U=o((()=>(0,l._)("br",null,null,-1))),h=o((()=>(0,l._)("br",null,null,-1))),g=o((()=>(0,l._)("strong",null,"Password: ",-1))),w={class:"d-flex justify-content-between detail-btns"},v=["data-bs-target"],y=["id"],I={class:"modal-dialog"},x={class:"modal-content blue-bg"},D=o((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title text-center modal-heading-text"}," Update User: "),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"close"})],-1))),$={class:"modal-body"},k={class:"mb-3"},N=o((()=>(0,l._)("label",{class:"form-label"},"First Name :",-1))),P={class:"mb-3"},A=o((()=>(0,l._)("label",{class:"form-label"},"Last Name :",-1))),z={class:"mb-3"},C=o((()=>(0,l._)("label",{class:"form-label"},"Email :",-1))),E={class:"mb-3"},V=o((()=>(0,l._)("label",{class:"form-label"},"Password :",-1))),M={class:"mb-3"},L=o((()=>(0,l._)("label",{class:"form-label"},"Profile Image :",-1))),T={class:"modal-footer"},j={type:"submit",class:"btn logout-btn"};function F(e,t,s,o,F,O){const R=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",null,[d,(0,l._)("div",u,[(0,l._)("div",n,[(0,l._)("img",{src:e.$store.state.user?.userImg,alt:e.$store.state.user?.firstName,class:"img-fluid mb-5",style:{"max-width":"60%","border-radius":"50%"}},null,8,i),(0,l._)("h2",c,(0,a.zw)(e.$store.state.user?.firstName)+" "+(0,a.zw)(e.$store.state.user?.lastName),1),(0,l._)("cite",null,(0,a.zw)(e.$store.state.user?.userRole),1)]),(0,l._)("div",null,[(0,l._)("div",m,[(0,l._)("span",null,[b,(0,l.Uk)((0,a.zw)(e.$store.state.user?.userID),1)]),_,p,(0,l._)("span",null,[f,(0,l.Uk)((0,a.zw)(e.$store.state.user?.emailAdd),1)]),U,h,(0,l._)("span",null,[g,(0,l.Uk)((0,a.zw)(e.$store.state.user?.userPass),1)])]),(0,l._)("div",w,[(0,l._)("button",{type:"button",class:"btn edit-users-btn",onClick:t[0]||(t[0]=e=>O.openEditModal(O.user.userID)),"data-bs-toggle":"modal","data-bs-target":"#edit-user-modal"+O.user.userID}," Edit ",8,v),(0,l._)("div",{class:"modal",id:"edit-user-modal"+O.user.userID,"aria-hidden":"true"},[(0,l._)("div",I,[(0,l._)("div",x,[D,(0,l._)("div",$,[(0,l._)("div",k,[N,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>F.editUser.firstName=e)},null,512),[[r.nr,F.editUser.firstName]])]),(0,l._)("div",P,[A,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>F.editUser.lastName=e)},null,512),[[r.nr,F.editUser.lastName]])]),(0,l._)("div",z,[C,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>F.editUser.emailAdd=e)},null,512),[[r.nr,F.editUser.emailAdd]])]),(0,l._)("div",E,[V,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>F.editUser.userPass=e)},null,512),[[r.nr,F.editUser.userPass]])]),(0,l._)("div",M,[L,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>F.editUser.userImg=e)},null,512),[[r.nr,F.editUser.userImg]])])]),(0,l._)("div",T,[(0,l._)("button",{type:"button",class:"btn edit-user-btn",onClick:t[6]||(t[6]=e=>O.updateUser(O.user.userID))}," Update ")])])])],8,y),(0,l._)("button",j,[(0,l.Wm)(R,{to:"/logout",class:"logout-text"},{default:(0,l.w5)((()=>[(0,l.Uk)("Log Out")])),_:1})]),(0,l._)("button",{type:"submit",class:"btn del-btn",onClick:t[7]||(t[7]=e=>O.deleteUser(O.user.userID))}," Delete Account ")])])])])}var O={props:["user"],data(){return{editUser:{...this.user},editUserID:null,user:{firstName:"",lastName:"",emailAdd:"",userPass:"",userImg:""}}},computed:{user(){return this.$store.state.user},mounted(){return this.$store.dispatch("fetchUser")}},methods:{openEditModal(e){this.editUserID=e,this.editUser={...this.$store.state.users.find((t=>t.userID===e))}},updateUser(e){this.$store.dispatch("updateUser",{userID:e,data:{...this.editUser}}).then((()=>{console.log("User updated!"),setTimeout((()=>{window.location.reload()}),500)})).catch((e=>{console.error("Error updating: ",e)})),this.$swal({title:"Profile Updated!",icon:"success",timer:5e3})},deleteUser(e){confirm("Are you sure you want to delete this user?")&&(this.$store.dispatch("deleteUser",e),setTimeout((()=>{location.reload()}),500),this.$swal({title:"Profile Deleted!",icon:"success",timer:5e3}))}}},R=s(89);const W=(0,R.Z)(O,[["render",F],["__scopeId","data-v-c21fb270"]]);var Z=W}}]);
//# sourceMappingURL=356.4c4912a0.js.map